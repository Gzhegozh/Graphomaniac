#chapters
  %ul
    %li{id: "new_chapter", onclick: "new_chapter()", class: "btn btn-default"}
      Create chapter

  %ul{id: "sortable"}
    - if !@chapters.empty?
      - @chapters.each do |chapter|
        %li{class: "ui-state-default", id: "#{chapter.order}"}
          = chapter.title

:javascript
  $(function() {
    $( "#sortable" ).sortable({
      revert: true
    });
    $( "ul, li" ).disableSelection();
  });

  $(".ui-state-default").click(function(){
    alert("aaaaaa");
  });

  function new_chapter(){
    var newLi = '<li class="display ui-state-default ui-sortable-handle">Untitled</li><input type="text" class="edit ui-sortable-handle" style="display:none">'
    $("#sortable").append(newLi)
  }

  $(".edit").focusout(function(){
  $(this).hide();  $(this).siblings(".display").show().text($(this).val());
  });


